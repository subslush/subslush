                                            Table "public.users"
          Column          |            Type             | Collation | Nullable |           Default           
--------------------------+-----------------------------+-----------+----------+-----------------------------
 id                       | uuid                        |           | not null | gen_random_uuid()
 email                    | character varying(255)      |           | not null | 
 created_at               | timestamp without time zone |           |          | now()
 last_login               | timestamp without time zone |           |          | 
 status                   | character varying(20)       |           | not null | 'active'::character varying
 display_name             | character varying(100)      |           |          | 
 user_timezone            | character varying(50)       |           |          | 
 language_preference      | character varying(10)       |           |          | 
 notification_preferences | jsonb                       |           |          | '{}'::jsonb
 profile_updated_at       | timestamp without time zone |           |          | now()
 first_name               | character varying(100)      |           |          | 
 last_name                | character varying(100)      |           |          | 
Indexes:
    "users_pkey" PRIMARY KEY, btree (id)
    "idx_users_created_at" btree (created_at)
    "idx_users_display_name" btree (display_name) WHERE display_name IS NOT NULL
    "idx_users_email" btree (email)
    "idx_users_language_preference" btree (language_preference) WHERE language_preference IS NOT NULL
    "idx_users_name" btree (first_name, last_name)
    "idx_users_profile_updated_at" btree (profile_updated_at)
    "idx_users_status" btree (status)
    "idx_users_user_timezone" btree (user_timezone) WHERE user_timezone IS NOT NULL
    "users_email_key" UNIQUE CONSTRAINT, btree (email)
Check constraints:
    "users_email_format_check" CHECK (email::text ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$'::text)
    "users_status_check" CHECK (status::text = ANY (ARRAY['active'::character varying, 'inactive'::character varying, 'suspended'::character varying, 'deleted'::character varying]::text[]))
Referenced by:
    TABLE "admin_tasks" CONSTRAINT "admin_tasks_assigned_admin_fkey" FOREIGN KEY (assigned_admin) REFERENCES users(id) ON DELETE SET NULL
    TABLE "credits" CONSTRAINT "credits_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
    TABLE "credit_transactions" CONSTRAINT "fk_credit_transactions_user_id" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
    TABLE "payment_refunds" CONSTRAINT "payment_refunds_approved_by_fkey" FOREIGN KEY (approved_by) REFERENCES users(id)
    TABLE "payment_refunds" CONSTRAINT "payment_refunds_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
    TABLE "payments" CONSTRAINT "payments_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
    TABLE "subscriptions" CONSTRAINT "subscriptions_user_id_fkey" FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE

