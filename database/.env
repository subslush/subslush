# =====================================================
# Database Migration Environment Configuration
# =====================================================
# Copy this file to .env and customize for your environment

# === DATABASE CONNECTION ===
# Primary database connection settings
DB_HOST=localhost
DB_PORT=5432
DB_DATABASE=subscription_platform
DB_USER=subscription_user
DB_PASSWORD=subscription_pass_2024

# === PGBOUNCER CONNECTION (Alternative) ===
# Uncomment to use PgBouncer connection pooling
# DB_HOST=localhost
# DB_PORT=6432
# DB_DATABASE=subscription_platform
# DB_USER=subscription_user
# DB_PASSWORD=subscription_pass_2024

# === CONNECTION POOL SETTINGS ===
# Connection pool configuration for migrations
DB_POOL_MAX=2
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=10000

# === SSL CONFIGURATION ===
# Set to true for SSL connections
DB_SSL=false

# === APPLICATION SETTINGS ===
# Application name for database monitoring
DB_APPLICATION_NAME=migration_runner

# === MIGRATION SETTINGS ===
# Enable verbose logging for migrations
MIGRATION_VERBOSE=false

# Enable dry-run mode by default (uncomment to enable)
# MIGRATION_DRY_RUN=true

# Enable backup before migrations (uncomment to enable)
# MIGRATION_BACKUP=true

# === ENVIRONMENT CONFIGURATION ===
# Current environment: development, staging, production
NODE_ENV=development

# === DEVELOPMENT SETTINGS ===
# Additional settings for development environment
DEV_LOG_LEVEL=info
DEV_PRETTY_LOGS=true

# === STAGING SETTINGS ===
# Additional settings for staging environment
# STAGING_BACKUP_REQUIRED=true
# STAGING_APPROVAL_REQUIRED=true

# === PRODUCTION SETTINGS ===
# Additional settings for production environment
# PROD_BACKUP_REQUIRED=true
# PROD_APPROVAL_REQUIRED=true
# PROD_LOCK_TIMEOUT=300000

# === BACKUP CONFIGURATION ===
# Database backup settings (if backup is enabled)
# BACKUP_DIR=/path/to/backups
# BACKUP_RETENTION_DAYS=30
# BACKUP_COMPRESS=true

# === NOTIFICATION SETTINGS ===
# Notification settings for migration events
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
# EMAIL_NOTIFICATIONS=admin@example.com
# TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/...

# === LOGGING CONFIGURATION ===
# Log file settings
# LOG_FILE=/var/log/migrations/migration.log
# LOG_LEVEL=info
# LOG_ROTATION=daily

# === SECURITY SETTINGS ===
# Security and access control
# ALLOWED_USERS=admin,developer
# REQUIRE_CONFIRMATION=true
# MAX_CONCURRENT_MIGRATIONS=1

# =====================================================
# Environment-specific Examples
# =====================================================

# === DEVELOPMENT EXAMPLE ===
# Typical settings for local development
# DB_HOST=localhost
# DB_PORT=5432
# MIGRATION_VERBOSE=true
# NODE_ENV=development

# === STAGING EXAMPLE ===
# Typical settings for staging environment
# DB_HOST=staging-db.example.com
# DB_PORT=5432
# DB_SSL=true
# MIGRATION_BACKUP=true
# NODE_ENV=staging

# === PRODUCTION EXAMPLE ===
# Typical settings for production environment
# DB_HOST=prod-db.example.com
# DB_PORT=5432
# DB_SSL=true
# MIGRATION_BACKUP=true
# PROD_APPROVAL_REQUIRED=true
# NODE_ENV=production

# =====================================================
# Usage Notes
# =====================================================
# 1. Never commit this file with real credentials to version control
# 2. Use different .env files for different environments
# 3. Set appropriate file permissions: chmod 600 .env
# 4. Consider using a secrets management system in production
# 5. Test connection settings before running migrations
#
# To test your configuration, run:
# node migrate.js test
#
# To see current configuration (without passwords), run:
# node migrate.js status --verbose